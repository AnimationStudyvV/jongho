<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../reset.css" />
    <link rel="stylesheet" href="./navbar.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>

  <body>
    <nav class="nav">
      <ul>
        <li>
          <div data-id="1">
            <span class="material-icons ic avoid-clicks"> home </span>
            <span class="title avoid-clicks">Home</span>
          </div>
        </li>
        <li>
          <div data-id="2">
            <span class="material-icons ic avoid-clicks"> person_outline </span>
            <span class="title avoid-clicks">User</span>
          </div>
        </li>
        <li>
          <div data-id="3">
            <span class="material-icons ic avoid-clicks"> mode_comment </span>
            <span class="title avoid-clicks">Chat</span>
          </div>
        </li>
        <li>
          <div data-id="4">
            <span class="material-icons ic avoid-clicks"> photo_camera </span>
            <span class="title avoid-clicks avoid-clicks">Camera</span>
          </div>
        </li>
        <li>
          <div data-id="5">
            <span class="material-icons ic avoid-clicks"> settings </span>
            <span class="title avoid-clicks">Setting</span>
          </div>
        </li>
      </ul>

      <div class="clickCircle"></div>
    </nav>
  </body>

  <script>
    const ulEl = document.querySelector('.nav > ul');
    const divListEl = document.querySelectorAll('.nav > ul > li > div');
    const circleEl = document.querySelector('.clickCircle');
    // 89 = 4.45

    // 22px
    // 111
    // 200
    // 289
    // 378
    ulEl.addEventListener('click', e => {
      // 클릭한 디브의 아이디를 가져온다.
      const clickDivId = e.target.dataset.id;
      // 포문을 돌면서 해당 디브의 아이디를 가진놈은 클래스를 추가하고, 나머지는 클래스를 제거한다.
      divListEl.forEach(div => {
        const currentId = div.dataset.id;

        if (currentId === clickDivId) {
          div.classList.add('clicked');
          // 원의 레프트 값이 -3.35 + (아이디 * 4.45)
          circleEl.style.left = `${-3.35 + currentId * 4.45}em`;
        } else {
          div.classList.remove('clicked');
        }
      });
    });
  </script>
</html>
